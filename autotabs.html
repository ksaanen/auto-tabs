<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Page Title</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>
<body>
  
  <div class="container my-5">
    <div class="content">

      <h5>heading 1</h5>
      <p>blablabla</p>
      blablabla
      <div>
        <p>blablabla</p>
        <p>blablabla</p>
      </div>

      <h5>heading 2</h5>
      <p>blablabla</p>
      <div>
        <p>blablabla</p>
        blablabla
        <p>blablabla</p>
      </div>

      <h5>heading 3</h5>
      <p>blablabla</p>
      <p>blablabla</p>
      <p>blablabla</p>
      <p>blablabla</p>

      <h5>heading 4</h5>
      <p>blablabla</p>
      <div>
        <p>blablabla</p>
        <p>blablabla</p>
        <p>blablabla</p>
      </div>

    </div>
  </div>

  <script>
    (function(){

      let q = document.querySelectorAll('.content h5');
      let lastItem = q[(q.length - 1)];

      function createTabs(q) {
        let tabsContainer = document.createElement('ul');
        tabsContainer.className = 'nav nav-tabs';

        q.forEach((el, index) => {
          let tab = document.createElement('li');
          tab.className = 'nav-item';

          let link = document.createElement('a');
          link.className = 'nav-link';
          link.innerText = el.innerText;

          tab.append(link);
          tabsContainer.append(tab);
        });

        q[0].parentNode.parentNode.prepend(tabsContainer);
      }

      q.forEach((el, index) => {

        if (el !== lastItem) {
          let nextItem = q[(index + 1)];
          let selector = el.nextSibling;
          let wrapper = document.createElement('div');

          el.parentNode.insertBefore(wrapper, el);
          wrapper.append(el);

          while(selector !== nextItem && selector !== null) {
            wrapper.append(selector);
            selector = wrapper.nextSibling;
          }
        }

      });

      createTabs(q);

    })();
  </script>
</body>
</html>